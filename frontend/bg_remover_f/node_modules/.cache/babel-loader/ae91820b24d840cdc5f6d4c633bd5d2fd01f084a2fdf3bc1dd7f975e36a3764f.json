{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Form(){const[file,setFile]=useState(null);const[fileName,setFileName]=useState('ðŸ“ Choose an Image');const[loading,setLoading]=useState(false);const handleChange=event=>{const selectedFile=event.target.files[0];setFile(selectedFile);setFileName(selectedFile?selectedFile.name:'ðŸ“ Choose an Image');};const handleSubmit=event=>{event.preventDefault();if(!file){alert('Please select a file before submitting.');return;}const formData=new FormData();formData.append('image',file);setLoading(true);const fetchData=async()=>{await fetch('https://localhost:5000/upload',{method:'POST',body:formData}).then(response=>response.json()).then(data=>{console.log(data);if(data.success){alert('Background removed successfully!');const link=document.createElement('a');link.href=data.download_link;link.download='output.png';link.click();}else{alert('Error removing background: '+data.message);}}).catch(error=>{console.error('Error:',error);}).finally(()=>{setLoading(false);});};fetchData();};return/*#__PURE__*/_jsxs(\"div\",{className:\"file-upload-container\",children:[loading&&/*#__PURE__*/_jsx(\"div\",{id:\"loading-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-input\",className:\"file-upload-label\",children:fileName}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleChange,id:\"file-input\",accept:\"image/*\",required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"upload-button\",onClick:handleSubmit,children:\"Remove Image Background\"})]});}","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Form","file","setFile","fileName","setFileName","loading","setLoading","handleChange","event","selectedFile","target","files","name","handleSubmit","preventDefault","alert","formData","FormData","append","fetchData","fetch","method","body","then","response","json","data","console","log","success","link","document","createElement","href","download_link","download","click","message","catch","error","finally","className","children","id","htmlFor","type","onChange","accept","required","onClick"],"sources":["C:/Users/jayas/Desktop/Migigawa/Code_Artificers/Main_Project/jayethian_bg_remover/frontend/bg_remover_f/src/Form.jsx"],"sourcesContent":["import React,  { useState } from 'react';\r\n\r\nexport default function Form(){\r\n    const [file, setFile] = useState(null);\r\n    const [fileName, setFileName] = useState('ðŸ“ Choose an Image');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleChange = (event) => {\r\n        const selectedFile = event.target.files[0];\r\n        setFile(selectedFile);\r\n        setFileName(selectedFile ? selectedFile.name : 'ðŸ“ Choose an Image');\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n\r\n        event.preventDefault();\r\n        if (!file) {\r\n            alert('Please select a file before submitting.');\r\n            return;\r\n        }\r\n\r\n        const formData = new FormData();\r\n        formData.append('image', file);\r\n        setLoading(true)\r\n        const fetchData = async () => {await fetch('https://localhost:5000/upload', {\r\n            method: 'POST',\r\n            body: formData,\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            console.log(data);\r\n            if (data.success) {\r\n                alert('Background removed successfully!');\r\n                const link = document.createElement('a');\r\n                link.href = data.download_link;\r\n                link.download = 'output.png';      \r\n                link.click();\r\n            } else {\r\n                alert('Error removing background: ' + data.message);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.error('Error:', error);\r\n        }).finally(() => {\r\n            setLoading(false);\r\n        })};\r\n        \r\n        fetchData();\r\n    }\r\n\r\n    return(\r\n        <div className=\"file-upload-container\">\r\n                {loading && \r\n                    <div id=\"loading-screen\">\r\n                        <div className=\"spinner\"></div>\r\n                    </div> \r\n                }\r\n                <label htmlFor=\"file-input\" className=\"file-upload-label\">\r\n                    {fileName}\r\n                </label>\r\n                <input type=\"file\" onChange={handleChange} id=\"file-input\" accept=\"image/*\" required/><br/>\r\n                <br/>\r\n                <button className=\"upload-button\" onClick={handleSubmit}>Remove Image Background</button>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}